(function(){"use strict";var t={6032:function(t,e,a){var s=a(6848),n=function(){var t=this,e=t._self._c;return e("div",{attrs:{id:"app"}},[e("router-view")],1)},i=[],r={name:"App",components:{}},o=r,l=a(1656),c=(0,l.A)(o,n,i,!1,null,null,null),d=c.exports,m=a(1641),u=a(4486),h=(a(323),a(9313),a(6178)),b=function(){var t=this,e=t._self._c;return e("b-container",{staticClass:"bg-light vh-100",attrs:{fluid:""}},[e("b-row",{staticClass:"justify-content-center align-items-center text-center h-100"},[e("b-col",{attrs:{md:"5"}},[e("b-card",{staticClass:"shadow",attrs:{"no-body":"","header-tag":"header"},scopedSlots:t._u([{key:"header",fn:function(){return[e("h1",{staticClass:"font-weight-bold text-muted my-2"},[t._v(" "+t._s(t.runningMatchData.team1Player)+" ")])]},proxy:!0}])},[e("b-card-body",[e("b-row",[e("b-col",[e("b-button",{staticClass:"font-weight-bold w-100 d-flex justify-content-center align-items-center py-3",attrs:{variant:"success",size:"lg",block:""},on:{click:function(e){return t.incrementScore("team1")}}},[e("b-icon-plus-circle-fill",{staticClass:"mx-2"}),e("span",[t._v("Add Point")])],1)],1)],1),e("b-row",[e("b-col",[e("div",{staticClass:"d-flex justify-content-center score-display-container my-3"},[e("div",{staticClass:"score-digit mx-2"},[t._v(t._s(t.team1ScoreTens))]),e("div",{staticClass:"score-digit mx-2"},[t._v(t._s(t.team1ScoreOnes))])])])],1),e("b-row",[e("b-col",[e("b-button",{staticClass:"mb-3 font-weight-bold w-100 d-flex justify-content-center align-items-center py-3",attrs:{variant:"danger",size:"lg",block:""},on:{click:function(e){return t.decrementScore("team1")}}},[e("b-icon-dash-circle-fill",{staticClass:"mx-2"}),e("span",[t._v("Subtract Point")])],1)],1)],1)],1)],1)],1),e("b-col",{attrs:{md:"2"}},[e("b-row",[e("b-col",[e("b-button",{staticClass:"font-weight-bold w-100 shadow-sm d-flex flex-row justify-content-center align-items-center",attrs:{variant:"light",block:"",to:{name:"Match List"}}},[e("b-icon-list-check"),e("span",{staticClass:"ps-2"},[t._v("Match Results")])],1)],1)],1),e("b-row",[e("b-col",[e("b-button",{staticClass:"font-weight-bold w-100 shadow-sm mt-3 d-flex flex-row justify-content-center align-items-center",attrs:{variant:"secondary",block:""},on:{click:t.showSettingModal}},[e("b-icon-gear-fill"),e("span",{staticClass:"ps-2"},[t._v("Setup Players")])],1)],1)],1),e("b-row",{staticClass:"mt-2"},[e("b-col",[e("hr")])],1),e("b-row",[e("b-col",[e("div",{staticClass:"timer-display"},[t._v(t._s(t.formattedTime))])])],1),e("b-row",{staticClass:"mb-1"},[e("b-col",[e("hr")])],1),e("b-row",[e("b-col",[e("b-button",{staticClass:"font-weight-bold w-100 shadow-sm d-flex flex-row justify-content-center align-items-center",attrs:{disabled:t.timerRunning,variant:"primary",block:""},on:{click:t.startTimer}},[e("b-icon-play-fill"),e("span",{staticClass:"ps-2"},[t._v("Start")])],1)],1),e("b-col",[e("b-button",{staticClass:"font-weight-bold w-100 shadow-sm d-flex flex-row justify-content-center align-items-center",attrs:{disabled:!t.timerRunning,variant:"warning",block:""},on:{click:t.stopTimer}},[e("b-icon-pause-fill"),e("span",{staticClass:"ps-2"},[t._v("Pause")])],1)],1)],1),e("b-row",{staticClass:"mt-2"},[e("b-col",[e("b-button",{staticClass:"font-weight-bold w-100 shadow-sm d-flex flex-row justify-content-center align-items-center",attrs:{variant:"danger",block:""},on:{click:t.resetAll}},[e("b-icon-arrow-counterclockwise"),e("span",{staticClass:"ps-2"},[t._v("Reset")])],1)],1)],1),e("b-row",{staticClass:"mt-1"},[e("b-col",[e("hr")])],1),e("b-row",{staticClass:"mt-4"},[e("b-col",[e("b-button",{staticClass:"font-weight-bold w-100 shadow-sm d-flex flex-row justify-content-center align-items-center",attrs:{variant:"success",block:""},on:{click:t.updateCurrentMatch}},[e("b-icon-arrow-repeat"),e("span",{staticClass:"ps-2"},[t._v("Update Live")])],1)],1)],1),e("b-row",{staticClass:"mt-3"},[e("b-col",[e("b-button",{staticClass:"font-weight-bold w-100 shadow-sm d-flex flex-row justify-content-center align-items-center",attrs:{variant:"info",block:""},on:{click:t.showFinishModal}},[e("b-icon-flag-fill"),e("span",{staticClass:"ps-2"},[t._v("Finish")])],1)],1)],1),e("b-row",{staticClass:"mt-3"},[e("b-col",[e("b-button",{staticClass:"font-weight-bold w-100 shadow-sm d-flex flex-row justify-content-center align-items-center",attrs:{variant:"light",block:""},on:{click:t.showWinnerModal}},[e("span",{staticClass:"ps-2"},[t._v("Admin")])])],1)],1)],1),e("b-col",{attrs:{md:"5"}},[e("b-card",{staticClass:"shadow",attrs:{"no-body":"","header-tag":"header"},scopedSlots:t._u([{key:"header",fn:function(){return[e("h1",{staticClass:"font-weight-bold text-muted my-2"},[t._v(" "+t._s(t.runningMatchData.team2Player)+" ")])]},proxy:!0}])},[e("b-card-body",[e("b-row",[e("b-col",[e("b-button",{staticClass:"font-weight-bold w-100 d-flex justify-content-center align-items-center py-3",attrs:{variant:"success",size:"lg",block:""},on:{click:function(e){return t.incrementScore("team2")}}},[e("b-icon-plus-circle-fill",{staticClass:"mx-2"}),e("span",[t._v("Add Point")])],1)],1)],1),e("b-row",[e("b-col",[e("div",{staticClass:"d-flex justify-content-center score-display-container my-3"},[e("div",{staticClass:"score-digit mx-2"},[t._v(t._s(t.team2ScoreTens))]),e("div",{staticClass:"score-digit mx-2"},[t._v(t._s(t.team2ScoreOnes))])])])],1),e("b-row",[e("b-col",[e("b-button",{staticClass:"mb-3 font-weight-bold w-100 d-flex justify-content-center align-items-center py-3",attrs:{variant:"danger",size:"lg",block:""},on:{click:function(e){return t.decrementScore("team2")}}},[e("b-icon-dash-circle-fill",{staticClass:"mx-2"}),e("span",[t._v("Subtract Point")])],1)],1)],1)],1)],1)],1)],1),e("b-modal",{attrs:{id:"settingModal",title:"Match Players","no-close-on-backdrop":"","no-close-on-esc":"","hide-header-close":""},scopedSlots:t._u([{key:"modal-footer",fn:function(){return[e("b-button",{attrs:{variant:"secondary"},on:{click:t.hideSettingModal}},[t._v("Close")])]},proxy:!0}]),model:{value:t.modalSettingShow,callback:function(e){t.modalSettingShow=e},expression:"modalSettingShow"}},[e("b-row",[e("b-col",{staticClass:"d-flex align-items-center",attrs:{sm:"2"}},[e("label",{attrs:{for:"input-small"}},[t._v("Team 1:")])]),e("b-col",{attrs:{sm:"10"}},[e("b-form-input",{attrs:{id:"input-team-1",placeholder:"Player Name"},model:{value:t.runningMatchData.team1Player,callback:function(e){t.$set(t.runningMatchData,"team1Player",e)},expression:"runningMatchData.team1Player"}})],1)],1),e("b-row",{staticClass:"mt-4"},[e("b-col",{staticClass:"d-flex align-items-center",attrs:{sm:"2"}},[e("label",{attrs:{for:"input-small"}},[t._v("Team 2:")])]),e("b-col",{attrs:{sm:"10"}},[e("b-form-input",{attrs:{id:"input-team-2",placeholder:"Player Name"},model:{value:t.runningMatchData.team2Player,callback:function(e){t.$set(t.runningMatchData,"team2Player",e)},expression:"runningMatchData.team2Player"}})],1)],1),e("b-row",{staticClass:"mt-4"},[e("b-col",{staticClass:"d-flex align-items-center",attrs:{sm:"2"}},[e("label",{attrs:{for:"input-small"}},[t._v("Round:")])]),e("b-col",{attrs:{sm:"10"}},[e("b-form-input",{attrs:{id:"match-name"},model:{value:t.runningMatchData.matchName,callback:function(e){t.$set(t.runningMatchData,"matchName",e)},expression:"runningMatchData.matchName"}})],1)],1),e("b-row",{staticClass:"mt-4"},[e("b-col",{staticClass:"d-flex align-items-center",attrs:{sm:"2"}},[e("label",{attrs:{for:"input-small"}},[t._v("Passkey:")])]),e("b-col",{attrs:{sm:"10"}},[e("b-form-input",{attrs:{id:"passkey",placeholder:"Passkey"},model:{value:t.passkey,callback:function(e){t.passkey=e},expression:"passkey"}})],1)],1)],1),e("b-modal",{attrs:{id:"finishModal",title:"Finish Game","no-close-on-backdrop":"","no-close-on-esc":"","hide-header-close":""},scopedSlots:t._u([{key:"modal-footer",fn:function(){return[e("b-button",{attrs:{variant:"secondary"},on:{click:t.hideFinishModal}},[t._v("Close")]),e("b-button",{attrs:{variant:"success"},on:{click:t.saveData}},[t._v("Submit")])]},proxy:!0}]),model:{value:t.modalFinishShow,callback:function(e){t.modalFinishShow=e},expression:"modalFinishShow"}},[e("b-row",{staticClass:"mt-4"},[e("b-col",{staticClass:"d-flex align-items-center",attrs:{sm:"4"}},[e("label",{attrs:{for:"input-small"}},[t._v("Match Category")])]),e("b-col",{attrs:{sm:"8"}},[e("b-form-select",{staticClass:"w-100",attrs:{id:"match-category",options:t.matchTypeOption},model:{value:t.selectedMatchType,callback:function(e){t.selectedMatchType=e},expression:"selectedMatchType"}})],1)],1)],1),e("b-modal",{attrs:{id:"winnerModal",title:"Winners","no-close-on-backdrop":"","no-close-on-esc":"","hide-header-close":""},scopedSlots:t._u([{key:"modal-footer",fn:function(){return[e("b-button",{attrs:{variant:"secondary"},on:{click:t.hideWinnerModal}},[t._v("Close")]),e("b-button",{attrs:{variant:"success"},on:{click:t.updateWinner}},[t._v("Submit")])]},proxy:!0}]),model:{value:t.modalWinnerShow,callback:function(e){t.modalWinnerShow=e},expression:"modalWinnerShow"}},[e("h5",[t._v("Men's Single")]),e("b-row",{staticClass:"mt-4"},[e("b-col",{staticClass:"d-flex align-items-center",attrs:{sm:"2"}},[e("label",{attrs:{for:"input-small"}},[t._v("First:")])]),e("b-col",{attrs:{sm:"10"}},[e("b-form-input",{attrs:{id:"men-winner-1"},model:{value:t.menWinner.first,callback:function(e){t.$set(t.menWinner,"first",e)},expression:"menWinner.first"}})],1)],1),e("b-row",{staticClass:"mt-4"},[e("b-col",{staticClass:"d-flex align-items-center",attrs:{sm:"2"}},[e("label",{attrs:{for:"input-small"}},[t._v("Second:")])]),e("b-col",{attrs:{sm:"10"}},[e("b-form-input",{attrs:{id:"men-winner-2"},model:{value:t.menWinner.second,callback:function(e){t.$set(t.menWinner,"second",e)},expression:"menWinner.second"}})],1)],1),e("b-row",{staticClass:"mt-4"},[e("b-col",{staticClass:"d-flex align-items-center",attrs:{sm:"2"}},[e("label",{attrs:{for:"input-small"}},[t._v("Third:")])]),e("b-col",{attrs:{sm:"10"}},[e("b-form-input",{attrs:{id:"men-winner-3"},model:{value:t.menWinner.third,callback:function(e){t.$set(t.menWinner,"third",e)},expression:"menWinner.third"}})],1)],1),e("h5",{staticClass:"mt-4"},[t._v("Mixed Doubles")]),e("b-row",{staticClass:"mt-4"},[e("b-col",{staticClass:"d-flex align-items-center",attrs:{sm:"2"}},[e("label",{attrs:{for:"input-small"}},[t._v("First:")])]),e("b-col",{attrs:{sm:"10"}},[e("b-form-input",{attrs:{id:"mixed-winner-1"},model:{value:t.mixedWinner.first,callback:function(e){t.$set(t.mixedWinner,"first",e)},expression:"mixedWinner.first"}})],1)],1),e("b-row",{staticClass:"mt-4"},[e("b-col",{staticClass:"d-flex align-items-center",attrs:{sm:"2"}},[e("label",{attrs:{for:"input-small"}},[t._v("Second:")])]),e("b-col",{attrs:{sm:"10"}},[e("b-form-input",{attrs:{id:"mixed-winner-2"},model:{value:t.mixedWinner.second,callback:function(e){t.$set(t.mixedWinner,"second",e)},expression:"mixedWinner.second"}})],1)],1),e("b-row",{staticClass:"mt-4"},[e("b-col",{staticClass:"d-flex align-items-center",attrs:{sm:"2"}},[e("label",{attrs:{for:"input-small"}},[t._v("Third:")])]),e("b-col",{attrs:{sm:"10"}},[e("b-form-input",{attrs:{id:"mixed-winner-3"},model:{value:t.mixedWinner.third,callback:function(e){t.$set(t.mixedWinner,"third",e)},expression:"mixedWinner.third"}})],1)],1)],1)],1)},f=[],p=a(2829);a(102);const g={apiKey:"AIzaSyCtXKp4cyZt3ApgGykgBONmEflWKoQI-lU",authDomain:"vue2-score-counter.firebaseapp.com",projectId:"vue2-score-counter",storageBucket:"vue2-score-counter.firebasestorage.app",messagingSenderId:"583077604905",appId:"1:583077604905:web:b14816e47d752eb616f638"};p.A.apps.length||p.A.initializeApp(g);const y=p.A.firestore();var v={name:"BadmintonCounter",components:{},data(){return{modalWinnerShow:!1,menWinner:{first:"",second:"",third:""},mixedWinner:{first:"",second:"",third:""},team1Score:0,team2Score:0,timer:null,timeElapsed:0,timerRunning:!1,modalSettingShow:!1,team1Player:"Player 1 & Player 2",team2Player:"Player 3 & Player 4",runningMatchData:{matchName:"",team1Score:0,team2Score:0,timeElapsed:0,team1Player:"Player 1 & Player 2",team2Player:"Player 3 & Player 4"},initialMatchData:{matchName:"",team1Score:0,team2Score:0,timeElapsed:0,team1Player:"Player 1 & Player 2",team2Player:"Player 3 & Player 4"},localStorageKey:"matchData",isInitialized:!1,currentMatchId:"l4b5zRxOghe1B5quXEF2",modalFinishShow:!1,passkey:"",selectedMatchType:"",matchTypeOption:["Men's Single","Mixed Doubles"]}},computed:{formattedTime(){const t=Math.floor(this.runningMatchData.timeElapsed/60).toString().padStart(2,"0"),e=(this.runningMatchData.timeElapsed%60).toString().padStart(2,"0");return`${t}:${e}`},team1ScoreTens(){return Math.floor(this.runningMatchData.team1Score/10)},team1ScoreOnes(){return this.runningMatchData.team1Score%10},team2ScoreTens(){return Math.floor(this.runningMatchData.team2Score/10)},team2ScoreOnes(){return this.runningMatchData.team2Score%10}},mounted(){this.initData()},methods:{async incrementScore(t){"team1"===t?this.runningMatchData.team1Score++:"team2"===t&&this.runningMatchData.team2Score++,await this.updateCurrentMatch()},async decrementScore(t){"team1"===t&&this.runningMatchData.team1Score>0?this.runningMatchData.team1Score--:"team2"===t&&this.runningMatchData.team2Score>0&&this.runningMatchData.team2Score--,await this.updateCurrentMatch()},startTimer(){this.timerRunning||(this.timerRunning=!0,this.timer=setInterval(()=>{this.runningMatchData.timeElapsed++},1e3),this.isInitialized=!0,this.saveToLocalStorage())},stopTimer(){this.timerRunning&&(this.timerRunning=!1,clearInterval(this.timer))},resetAll(){this.stopTimer(),this.runningMatchData={...this.initialMatchData},this.isInitialized=!1,this.passkey="",this.selectedMatchType="",localStorage.removeItem(this.localStorageKey)},showSettingModal(){this.modalSettingShow=!0,this.passkey=localStorage.getItem("passkey")},hideSettingModal(){this.modalSettingShow=!1},showFinishModal(){this.modalFinishShow=!0},hideFinishModal(){this.modalFinishShow=!1},showWinnerModal(){this.modalWinnerShow=!0},hideWinnerModal(){this.modalWinnerShow=!1},saveToLocalStorage(){localStorage.setItem(this.localStorageKey,JSON.stringify(this.runningMatchData))},initData(){const t=localStorage.getItem(this.localStorageKey);if(t)try{this.runningMatchData=JSON.parse(t),this.startTimer()}catch(e){console.error("Error parsing data from local storage:",e),this.resetAll()}else this.resetAll()},async saveData(){if(!this.isInitialized)return;const t=await this.guardCall();if(t)try{let t;t="Men's Single"===this.selectedMatchType?"men-doubles-match":"mixed-doubles-match",await y.collection(t).add({...this.runningMatchData,createdAt:p.A.firestore.FieldValue.serverTimestamp()}),this.hideFinishModal(),this.resetAll()}catch(e){console.error("Error adding document: ",e)}},async updateCurrentMatch(){if(!this.isInitialized)return;const t=await this.guardCall();if(!t)return;const e=y.collection("active-match").doc(this.currentMatchId);await e.update({...this.runningMatchData,updatedAt:p.A.firestore.FieldValue.serverTimestamp()}),console.log("Document updated")},async updateWinner(){const t=await this.guardCall();if(!t)return;const e=[{no:"1st",team:this.menWinner.first},{no:"2nd",team:this.menWinner.second},{no:"3rd",team:this.menWinner.third}],a=y.collection("match-winner").doc("men-doubles");await a.update({winners:e,updatedAt:p.A.firestore.FieldValue.serverTimestamp()});const s=[{no:"1st",team:this.mixedWinner.first},{no:"2nd",team:this.mixedWinner.second},{no:"3rd",team:this.mixedWinner.third}],n=y.collection("match-winner").doc("mixed-doubles");await n.update({winners:s,updatedAt:p.A.firestore.FieldValue.serverTimestamp()}),this.hideWinnerModal(),this.resetAll()},async guardCall(){const t=localStorage.getItem("passkey");if(""===t)return!1;try{const e=y.collection(t).doc("CsipNVwzNCtEXLRtmowd"),a=await e.get();return!!a.exists}catch(e){return console.error("Error fetching single document:",e),!1}}},beforeDestroy(){clearInterval(this.timer)},watch:{runningMatchData:{deep:!0,handler:function(){this.isInitialized&&this.saveToLocalStorage()}},passkey(t){localStorage.setItem("passkey",t)}}},w=v,S=(0,l.A)(w,b,f,!1,null,"19821330",null),x=S.exports,C=function(){var t=this,e=t._self._c;return e("div",{staticClass:"m-5"},[e("b-row",[e("b-col",{staticClass:"d-flex justify-content-start"},[e("b-button",{staticClass:"px-4 d-flex flex-row justify-content-center align-items-center",attrs:{variant:"primary",to:{name:"Live Counter"}}},[e("b-icon-play-btn-fill"),t._v(" "),e("span",{staticClass:"ps-2"},[t._v("Live")])],1)],1)],1),e("b-row",{staticClass:"mt-4"},[e("b-col",[e("b-card",{staticClass:"shadow-sm",attrs:{"header-tag":"header"},scopedSlots:t._u([{key:"header",fn:function(){return[e("h1",{staticClass:"font-weight-bold text-muted my-2"},[t._v(" Men's Cup Winner 🏆 ")])]},proxy:!0}])},[e("b-table",{staticClass:"rounded-lg overflow-hidden bg-white",attrs:{striped:"",hover:"",responsive:"",items:t.menWinner,fields:t.fieldsWinner}})],1),e("b-card",{staticClass:"mt-5 mb-5",attrs:{"header-tag":"header"},scopedSlots:t._u([{key:"header",fn:function(){return[e("h5",{staticClass:"font-weight-bold text-muted my-2"},[t._v(" Men's Cup All Matches ")])]},proxy:!0}])},[e("b-table",{staticClass:"rounded-lg overflow-hidden bg-white",attrs:{id:"men",striped:"",hover:"",responsive:"",items:t.menMatches,fields:t.fields},scopedSlots:t._u([{key:"cell(score)",fn:function(a){return[e("div",[t._v(" "+t._s(a.item.score.team1Score)+" - "+t._s(a.item.score.team2Score)+" ")])]}},{key:"cell(timeElapsed)",fn:function(a){return[e("div",[t._v(" "+t._s(t.secondsToFormattedTime(a.item.timeElapsed))+" ")])]}}])})],1)],1),e("b-col",[e("b-card",{staticClass:"shadow-sm",attrs:{"header-tag":"header"},scopedSlots:t._u([{key:"header",fn:function(){return[e("h1",{staticClass:"font-weight-bold text-muted my-2"},[t._v(" Mixed Doubles Winner 🏆 ")])]},proxy:!0}])},[e("b-table",{staticClass:"rounded-lg overflow-hidden bg-white",attrs:{striped:"",hover:"",responsive:"",items:t.mixedWinner,fields:t.fieldsWinner}})],1),e("b-card",{staticClass:"mt-5",attrs:{"header-tag":"header"},scopedSlots:t._u([{key:"header",fn:function(){return[e("h5",{staticClass:"font-weight-bold text-muted my-2"},[t._v(" Mixed Doubles All Matches ")])]},proxy:!0}])},[e("b-table",{staticClass:"rounded-lg overflow-hidden bg-white",attrs:{id:"mixed",striped:"",hover:"",responsive:"",items:t.mixedMatches,fields:t.fields},scopedSlots:t._u([{key:"cell(score)",fn:function(a){return[e("div",[t._v(" "+t._s(a.item.score.team1Score)+" - "+t._s(a.item.score.team2Score)+" ")])]}},{key:"cell(timeElapsed)",fn:function(a){return[e("div",[t._v(" "+t._s(t.secondsToFormattedTime(a.item.timeElapsed))+" ")])]}}])})],1)],1)],1),e("b-row",[e("b-col",{staticClass:"d-flex justify-content-end"},[e("b-button",{attrs:{size:"sm",variant:"light",to:{name:"Counter"}}},[t._v(" C ")])],1)],1)],1)},M=[],_=(a(4114),a(8111),a(1701),{name:"MatchList",components:{},data(){return{fieldsWinner:[{key:"no",label:"#",sortable:!1,class:"text-center"},{key:"team",label:"Team",sortable:!1}],menWinner:[{no:"1st",team:"TBD"},{no:"2nd",team:"TBD"},{no:"3rd",team:"TBD"}],mixedWinner:[{no:"1st",team:"TBD"},{no:"2nd",team:"TBD"},{no:"3rd",team:"TBD"}],fields:[{key:"team1Player",label:"Team 1",sortable:!1},{key:"team2Player",label:"Team 2",sortable:!1},{key:"score",label:"Score",sortable:!1,class:"text-center"},{key:"timeElapsed",label:"Duration",sortable:!1,class:"text-center"}],menMatches:[{no:1,team1Player:"Men 1 & Men 2",team2Player:"Men 3 & Men 4",score:{team1Score:0,team2Score:0},timeElapsed:100}],mixedMatches:[{no:1,team1Player:"Player 1 & Player 2",team2Player:"Player 3 & Player 4",score:{team1Score:0,team2Score:0},timeElapsed:100}]}},methods:{secondsToFormattedTime(t){const e=Math.floor(t/3600);t%=3600;const a=Math.floor(t/60),s=t%60,n=[];return e>0&&n.push(`${e}hr`),a>0&&n.push(`${a}m`),(s>0||0===n.length)&&n.push(`${s}s`),n.join(" ")},async fetchCollections(){try{const t=y.collection("men-doubles-match"),e=y.collection("mixed-doubles-match"),a=y.collection("match-winner"),[s,n,i]=await Promise.all([t.get(),e.get(),a.get()]),r=s.docs.map(t=>({id:t.id,...t.data()})),o=n.docs.map(t=>({id:t.id,...t.data()})),l=i.docs.map(t=>({id:t.id,...t.data()})),c=r.map(t=>{const{team1Score:e,team2Score:a,...s}=t;return{score:{team1Score:e,team2Score:a},...s}}),d=o.map(t=>{const{team1Score:e,team2Score:a,...s}=t;return{score:{team1Score:e,team2Score:a},...s}});this.menMatches=c,this.mixedMatches=d,this.menWinner=l[0]["winners"],this.mixedWinner=l[1]["winners"],this.loading=!1}catch(t){console.error("Error fetching documents:",t)}}},async mounted(){await this.fetchCollections()}}),k=_,P=(0,l.A)(k,C,M,!1,null,"5c46d1ea",null),D=P.exports,T=function(){var t=this,e=t._self._c;return e("b-container",{staticClass:"bg-light vh-100 p-3 p-md-5 pt-5 live-page",attrs:{fluid:""}},[e("b-row",{staticClass:"justify-content-center text-center mb-4"},[e("b-col",{attrs:{cols:"12"}},[e("h2",{staticClass:"font-weight-bold text-secondary mb-1"},[t._v(t._s(t.eventName))]),e("h4",{staticClass:"font-weight-normal text-muted mt-3"},[t._v(t._s(t.matchName))])])],1),e("b-row",{staticClass:"justify-content-center text-center flex-grow-1 mb-4"},[e("b-col",{staticClass:"d-flex justify-content-center align-items-center p-1 p-md-2",attrs:{cols:"6"}},[e("b-card",{staticClass:"shadow-sm w-100 rounded-lg",attrs:{"no-body":"","header-tag":"header"},scopedSlots:t._u([{key:"header",fn:function(){return[e("h1",{staticClass:"font-weight-bold text-muted my-2 h6 h5-md"},[t._v(t._s(t.runningMatchData.team1Player))])]},proxy:!0}])},[e("b-card-body",{staticClass:"d-flex flex-column justify-content-center"},[e("div",{staticClass:"score-display-container my-2 my-md-3"},[e("div",{staticClass:"score-digit mx-1"},[t._v(t._s(t.team1ScoreTens))]),e("div",{staticClass:"score-digit mx-1"},[t._v(t._s(t.team1ScoreOnes))])])])],1)],1),e("b-col",{staticClass:"d-flex justify-content-center align-items-center p-1 p-md-2",attrs:{cols:"6"}},[e("b-card",{staticClass:"shadow-sm w-100 rounded-lg",attrs:{"no-body":"","header-tag":"header"},scopedSlots:t._u([{key:"header",fn:function(){return[e("h1",{staticClass:"font-weight-bold text-muted my-2 h6 h5-md"},[t._v(t._s(t.runningMatchData.team2Player))])]},proxy:!0}])},[e("b-card-body",{staticClass:"d-flex flex-column justify-content-center"},[e("div",{staticClass:"score-display-container my-2 my-md-3"},[e("div",{staticClass:"score-digit mx-1"},[t._v(t._s(t.team2ScoreTens))]),e("div",{staticClass:"score-digit mx-1"},[t._v(t._s(t.team2ScoreOnes))])])])],1)],1)],1),e("b-row",{staticClass:"justify-content-center text-center mb-4"},[e("b-col",{staticClass:"d-flex flex-column align-items-center",attrs:{cols:"12",md:"6",lg:"4"}},[e("div",{staticClass:"timer-display my-2 shadow-sm rounded-lg"},[t._v(t._s(t.formattedTime))]),e("b-button",{staticClass:"font-weight-bold my-2 shadow-sm d-flex flex-row justify-content-center align-items-center rounded-lg",attrs:{variant:"success",to:{name:"Match List"}}},[e("b-icon-list-check"),e("span",{staticClass:"ps-2"},[t._v("All Match Results")])],1)],1)],1),e("b-row",{staticClass:"mt-2"},[e("b-col",[e("hr")])],1),e("b-row",{staticClass:"mt-2"},[e("b-col",[e("b-card",{attrs:{"header-tag":"header"},scopedSlots:t._u([{key:"header",fn:function(){return[e("h5",{staticClass:"font-weight-bold text-muted my-2"},[t._v(" Recent Matches ⚡ ")])]},proxy:!0}])},[e("b-table",{staticClass:"rounded-lg overflow-hidden bg-white",attrs:{striped:"",hover:"",responsive:"",items:t.recentMatches,fields:t.fields},scopedSlots:t._u([{key:"cell(score)",fn:function(a){return[e("div",[t._v(" "+t._s(a.item.score.team1Score)+" - "+t._s(a.item.score.team2Score)+" ")])]}},{key:"cell(timeElapsed)",fn:function(a){return[e("div",[t._v(" "+t._s(t.secondsToFormattedTime(a.item.timeElapsed))+" ")])]}}])})],1)],1)],1)],1)},W=[],j={name:"LiveCounter",data(){return{eventName:"Yakin Hidup Sehat Cup 2025 🏆",matchName:"",docId:"l4b5zRxOghe1B5quXEF2",docData:null,loading:!1,unsubscribe:null,team1Score:0,team2Score:0,timer:null,timeElapsed:0,timerRunning:!1,modalSettingShow:!1,team1Player:"Player 1 & Player 2",team2Player:"Player 3 & Player 4",runningMatchData:{team1Score:0,team2Score:0,timeElapsed:0,team1Player:"Player 1 & Player 2",team2Player:"Player 3 & Player 4"},initialMatchData:{team1Score:0,team2Score:0,timeElapsed:0,team1Player:"Player 1 & Player 2",team2Player:"Player 3 & Player 4"},localStorageKey:"matchData",isInitialized:!1,currentMatchId:"l4b5zRxOghe1B5quXEF2",fields:[{key:"team1Player",label:"Team 1",sortable:!1},{key:"team2Player",label:"Team 2",sortable:!1},{key:"score",label:"Score",sortable:!1,class:"text-center"},{key:"timeElapsed",label:"Duration",sortable:!1,class:"text-center"}],recentMatches:[{no:1,team1Player:"Player 1 & Player 2",team2Player:"Player 3 & Player 4",score:{team1Score:0,team2Score:0},timeElapsed:100}]}},computed:{formattedTime(){const t=Math.floor(this.runningMatchData.timeElapsed/60).toString().padStart(2,"0"),e=(this.runningMatchData.timeElapsed%60).toString().padStart(2,"0");return`${t}:${e}`},team1ScoreTens(){return Math.floor(this.runningMatchData.team1Score/10)},team1ScoreOnes(){return this.runningMatchData.team1Score%10},team2ScoreTens(){return Math.floor(this.runningMatchData.team2Score/10)},team2ScoreOnes(){return this.runningMatchData.team2Score%10}},methods:{startListening(){if(this.stopTimer(),this.unsubscribe&&this.unsubscribe(),!this.docId)return void(this.runningMatchData={});this.loading=!0,this.runningMatchData={};const t=y.collection("active-match").doc(this.docId);this.unsubscribe=t.onSnapshot(t=>{t.exists?(this.runningMatchData={id:t.id,...t.data()},this.matchName=this.runningMatchData.matchName,this.startTimer()):this.runningMatchData={},this.loading=!1},t=>{console.error("Error fetching document: ",t),this.loading=!1})},startTimer(){this.timerRunning||(this.timerRunning=!0,this.timer=setInterval(()=>{this.runningMatchData.timeElapsed++},1e3))},stopTimer(){this.timerRunning&&(this.timerRunning=!1,clearInterval(this.timer))},secondsToFormattedTime(t){const e=Math.floor(t/3600);t%=3600;const a=Math.floor(t/60),s=t%60,n=[];return e>0&&n.push(`${e}hr`),a>0&&n.push(`${a}m`),(s>0||0===n.length)&&n.push(`${s}s`),n.join(" ")},toMillis(t){return t?1e3*t.seconds+Math.floor(t.nanoseconds/1e6):0},sortByCreatedAtDesc(t){return t.sort((t,e)=>this.toMillis(e.createdAt)-this.toMillis(t.createdAt))},async fetchCollections(){try{const t=y.collection("men-doubles-match"),e=y.collection("mixed-doubles-match"),[a,s]=await Promise.all([t.get(),e.get()]),n=a.docs.map(t=>({id:t.id,...t.data()})),i=s.docs.map(t=>({id:t.id,...t.data()})),r=[...n,...i],o=r.map(t=>{const{team1Score:e,team2Score:a,...s}=t;return{score:{team1Score:e,team2Score:a},...s}});this.recentMatches=this.sortByCreatedAtDesc(o),this.loading=!1}catch(t){console.error("Error fetching documents:",t)}}},async mounted(){await this.fetchCollections(),this.startListening()},beforeDestroy(){this.unsubscribe&&this.unsubscribe()}},A=j,E=(0,l.A)(A,T,W,!1,null,"79b33a82",null),I=E.exports;s["default"].use(h.Ay);const O=[{path:"/match-list",name:"Match List",component:D},{path:"/counter",name:"Counter",component:x},{path:"/",name:"Live Counter",component:I}],F=new h.Ay({mode:"history",base:"/vue2-score-counter/",routes:O});var R=F;s["default"].use(m.vGs),s["default"].use(u.YS),s["default"].config.productionTip=!1,new s["default"]({router:R,render:t=>t(d)}).$mount("#app")}},e={};function a(s){var n=e[s];if(void 0!==n)return n.exports;var i=e[s]={exports:{}};return t[s].call(i.exports,i,i.exports,a),i.exports}a.m=t,function(){var t=[];a.O=function(e,s,n,i){if(!s){var r=1/0;for(d=0;d<t.length;d++){s=t[d][0],n=t[d][1],i=t[d][2];for(var o=!0,l=0;l<s.length;l++)(!1&i||r>=i)&&Object.keys(a.O).every(function(t){return a.O[t](s[l])})?s.splice(l--,1):(o=!1,i<r&&(r=i));if(o){t.splice(d--,1);var c=n();void 0!==c&&(e=c)}}return e}i=i||0;for(var d=t.length;d>0&&t[d-1][2]>i;d--)t[d]=t[d-1];t[d]=[s,n,i]}}(),function(){a.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return a.d(e,{a:e}),e}}(),function(){a.d=function(t,e){for(var s in e)a.o(e,s)&&!a.o(t,s)&&Object.defineProperty(t,s,{enumerable:!0,get:e[s]})}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){a.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}}(),function(){var t={524:0};a.O.j=function(e){return 0===t[e]};var e=function(e,s){var n,i,r=s[0],o=s[1],l=s[2],c=0;if(r.some(function(e){return 0!==t[e]})){for(n in o)a.o(o,n)&&(a.m[n]=o[n]);if(l)var d=l(a)}for(e&&e(s);c<r.length;c++)i=r[c],a.o(t,i)&&t[i]&&t[i][0](),t[i]=0;return a.O(d)},s=self["webpackChunkvue2_score_counter"]=self["webpackChunkvue2_score_counter"]||[];s.forEach(e.bind(null,0)),s.push=e.bind(null,s.push.bind(s))}();var s=a.O(void 0,[504],function(){return a(6032)});s=a.O(s)})();
//# sourceMappingURL=app.2d8f8d23.js.map